import mongoose from 'mongoose';
import Anime from '../models/Anime';
import Location from '../models/Location';

// 使用环境变量或默认URI
const MONGODB_URI = process.env.MONGODB_URI || 'mongodb+srv://wilsonfu944:Aa101130091512@cluster0.vyqhg04.mongodb.net/?appName=Cluster0';

const animeData = [
  {
    title: '你的名字',
    titleJP: '君の名は。',
    description: '住在东京的高中生立花泷和住在乡下的女高中生宫水三叶，在梦中交换身体，体验彼此的生活。',
    coverImage: 'https://images.unsplash.com/photo-1578632767115-351597cf2477?w=400',
    rating: 4.8,
    releaseDate: new Date('2016-08-26'),
    genres: ['爱情', '奇幻', '剧情'],
    studio: 'CoMix Wave Films',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '天气之子',
    titleJP: '天気の子',
    description: '高中生森嶋帆高离家出走来到东京，遇到拥有改变天气能力的少女天野阳菜。',
    coverImage: 'https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=400',
    rating: 4.5,
    releaseDate: new Date('2019-07-19'),
    genres: ['爱情', '奇幻', '剧情'],
    studio: 'CoMix Wave Films',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '秒速五厘米',
    titleJP: '秒速5センチメートル',
    description: '远野贵树和篠原明里从小一起长大，因转学而分离，长大后再次相遇的故事。',
    coverImage: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
    rating: 4.6,
    releaseDate: new Date('2007-03-03'),
    genres: ['爱情', '剧情'],
    studio: 'CoMix Wave Films',
    episodes: 3,
    status: 'completed',
  },
  {
    title: '千与千寻',
    titleJP: '千と千尋の神隠し',
    description: '10岁的荻野千寻和父母误入神秘世界，为了救回变成猪的父母，在汤屋工作的冒险故事。',
    coverImage: 'https://images.unsplash.com/photo-1528164344705-47542687000d?w=400',
    rating: 4.9,
    releaseDate: new Date('2001-07-20'),
    genres: ['奇幻', '冒险', '家庭'],
    studio: '吉卜力工作室',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '龙猫',
    titleJP: 'となりのトトロ',
    description: '草壁达郎的妻子生病住院，他带着两个女儿搬到乡下，遇到了森林守护者龙猫。',
    coverImage: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400',
    rating: 4.8,
    releaseDate: new Date('1988-04-16'),
    genres: ['奇幻', '家庭', '冒险'],
    studio: '吉卜力工作室',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '哈尔的移动城堡',
    titleJP: 'ハウルの動く城',
    description: '被施了魔法变成老太婆的苏菲，遇到了魔法师哈尔，住进了会移动的城堡。',
    coverImage: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
    rating: 4.7,
    releaseDate: new Date('2004-11-20'),
    genres: ['奇幻', '爱情', '冒险'],
    studio: '吉卜力工作室',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '言叶之庭',
    titleJP: '言の葉の庭',
    description: '15岁的高中生秋月孝雄在雨天的公园里遇到了27岁的雪野百香里，两人逐渐靠近。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.4,
    releaseDate: new Date('2013-05-31'),
    genres: ['爱情', '剧情'],
    studio: 'CoMix Wave Films',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '萤火之森',
    titleJP: '蛍火の杜へ',
    description: '6岁的竹川萤在爷爷家附近的森林里迷路，遇到了戴着狐狸面具的少年银。',
    coverImage: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400',
    rating: 4.6,
    releaseDate: new Date('2011-09-17'),
    genres: ['爱情', '奇幻', '剧情'],
    studio: 'Brain\'s Base',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '夏日大作战',
    titleJP: 'サマーウォーズ',
    description: '高中生小矶健二被学姐篠原夏希邀请去她家，卷入了一场虚拟世界的战斗。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.5,
    releaseDate: new Date('2009-08-01'),
    genres: ['科幻', '冒险', '剧情'],
    studio: 'Madhouse',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '狼的孩子雨和雪',
    titleJP: 'おおかみこどもの雨と雪',
    description: '大学生花爱上狼男，生下两个孩子雨和雪，独自抚养他们长大的故事。',
    coverImage: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
    rating: 4.7,
    releaseDate: new Date('2012-07-21'),
    genres: ['家庭', '奇幻', '剧情'],
    studio: 'Studio Chizu',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '声之形',
    titleJP: '聲の形',
    description: '小学时欺负听障同学的石田将也，长大后想要赎罪，重新与西宫硝子相遇。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.5,
    releaseDate: new Date('2016-09-17'),
    genres: ['剧情', '校园', '成长'],
    studio: '京都动画',
    episodes: 1,
    status: 'completed',
  },
  {
    title: '紫罗兰永恒花园',
    titleJP: 'ヴァイオレット・エヴァーガーデン',
    description: '曾是军人的薇尔莉特成为自动手记人偶，通过代笔书信了解感情的故事。',
    coverImage: 'https://images.unsplash.com/photo-1578632767115-351597cf2477?w=400',
    rating: 4.6,
    releaseDate: new Date('2018-01-10'),
    genres: ['剧情', '治愈'],
    studio: '京都动画',
    episodes: 13,
    status: 'completed',
  },
  {
    title: '进击的巨人',
    titleJP: '進撃の巨人',
    description: '人类被巨人威胁，生活在高墙内。少年艾伦目睹母亲被巨人吃掉，立志消灭所有巨人。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.9,
    releaseDate: new Date('2013-04-07'),
    genres: ['动作', '悬疑', '剧情'],
    studio: 'WIT Studio',
    episodes: 75,
    status: 'completed',
  },
  {
    title: '鬼灭之刃',
    titleJP: '鬼滅の刃',
    description: '大正时代，卖炭少年炭治郎的家人被鬼杀害，妹妹祢豆子变成鬼，他为了救妹妹成为鬼杀队队员。',
    coverImage: 'https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=400',
    rating: 4.8,
    releaseDate: new Date('2019-04-06'),
    genres: ['动作', '超自然', '历史'],
    studio: 'ufotable',
    episodes: 44,
    status: 'completed',
  },
  {
    title: '咒术回战',
    titleJP: '呪術廻戦',
    description: '高中生虎杖悠仁吞下特级咒物，成为宿傩的容器，进入东京都立咒术高等专门学校学习。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.7,
    releaseDate: new Date('2020-10-03'),
    genres: ['动作', '超自然', '校园'],
    studio: 'MAPPA',
    episodes: 24,
    status: 'completed',
  },
  {
    title: '间谍过家家',
    titleJP: 'SPY×FAMILY',
    description: '间谍黄昏为了任务组建假家庭，与杀手约尔和超能力者阿尼亚一起生活的温馨故事。',
    coverImage: 'https://images.unsplash.com/photo-1578632767115-351597cf2477?w=400',
    rating: 4.8,
    releaseDate: new Date('2022-04-09'),
    genres: ['喜剧', '动作', '家庭'],
    studio: 'WIT Studio / CloverWorks',
    episodes: 25,
    status: 'completed',
  },
  {
    title: '孤独摇滚！',
    titleJP: 'ぼっち・ざ・ろっく！',
    description: '孤独的高中生后藤一里加入轻音部，与伙伴们一起玩音乐的故事。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.6,
    releaseDate: new Date('2022-10-09'),
    genres: ['音乐', '喜剧', '校园'],
    studio: 'CloverWorks',
    episodes: 12,
    status: 'completed',
  },
  {
    title: '链锯人',
    titleJP: 'チェンソーマン',
    description: '少年电次与链锯恶魔波奇塔融合，成为链锯人，加入公安对魔特异4课。',
    coverImage: 'https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=400',
    rating: 4.5,
    releaseDate: new Date('2022-10-11'),
    genres: ['动作', '超自然', '黑暗'],
    studio: 'MAPPA',
    episodes: 12,
    status: 'completed',
  },
  {
    title: '葬送的芙莉莲',
    titleJP: '葬送のフリーレン',
    description: '精灵魔法师芙莉莲与勇者一行打败魔王后，重新踏上旅程，了解人类感情的故事。',
    coverImage: 'https://images.unsplash.com/photo-1578632767115-351597cf2477?w=400',
    rating: 4.9,
    releaseDate: new Date('2023-09-29'),
    genres: ['奇幻', '冒险', '治愈'],
    studio: 'Madhouse',
    episodes: 28,
    status: 'ongoing',
  },
  {
    title: '我推的孩子',
    titleJP: '【推しの子】',
    description: '妇产科医生五郎被推的偶像星野爱杀害后转生为她的孩子，在演艺圈中寻找真相。',
    coverImage: 'https://images.unsplash.com/photo-1578632767115-351597cf2477?w=400',
    rating: 4.7,
    releaseDate: new Date('2023-04-12'),
    genres: ['偶像', '悬疑', '剧情'],
    studio: 'Doga Kobo',
    episodes: 11,
    status: 'completed',
  },
  {
    title: '蓝色监狱',
    titleJP: 'ブルーロック',
    description: '300名高中生被选中参加蓝色监狱计划，只有一人能成为日本足球的救世主。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.6,
    releaseDate: new Date('2022-10-09'),
    genres: ['运动', '竞技', '剧情'],
    studio: '8bit',
    episodes: 24,
    status: 'completed',
  },
  {
    title: '86-不存在的战区-',
    titleJP: '86-エイティシックス-',
    description: '在共和国与帝国的战争中，86区的少年少女们驾驶无人战斗机战斗的故事。',
    coverImage: 'https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=400',
    rating: 4.8,
    releaseDate: new Date('2021-04-11'),
    genres: ['科幻', '战争', '剧情'],
    studio: 'A-1 Pictures',
    episodes: 23,
    status: 'completed',
  },
  {
    title: 'Re:从零开始的异世界生活',
    titleJP: 'Re:ゼロから始める異世界生活',
    description: '高中生菜月昴被召唤到异世界，拥有死亡回归的能力，为了拯救重要的人不断重复死亡。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.7,
    releaseDate: new Date('2016-04-04'),
    genres: ['奇幻', '冒险', '剧情'],
    studio: 'White Fox',
    episodes: 50,
    status: 'completed',
  },
  {
    title: '约定的梦幻岛',
    titleJP: '約束のネバーランド',
    description: '孤儿院的孩子们发现真相，他们是被饲养的食物，为了自由而展开逃亡计划。',
    coverImage: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400',
    rating: 4.6,
    releaseDate: new Date('2019-01-11'),
    genres: ['悬疑', '冒险', '剧情'],
    studio: 'CloverWorks',
    episodes: 23,
    status: 'completed',
  },
  {
    title: '辉夜大小姐想让我告白',
    titleJP: 'かぐや様は告らせたい',
    description: '学生会会长白银御行和副会长四宫辉夜互相喜欢，但都想让对方先告白。',
    coverImage: 'https://images.unsplash.com/photo-1578632767115-351597cf2477?w=400',
    rating: 4.8,
    releaseDate: new Date('2019-01-12'),
    genres: ['喜剧', '爱情', '校园'],
    studio: 'A-1 Pictures',
    episodes: 37,
    status: 'completed',
  },
  {
    title: '我的英雄学院',
    titleJP: '僕のヒーローアカデミア',
    description: '在超能力普及的世界，无能力的少年绿谷出久立志成为最伟大的英雄。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.7,
    releaseDate: new Date('2016-04-03'),
    genres: ['动作', '校园', '超能力'],
    studio: 'Bones',
    episodes: 113,
    status: 'ongoing',
  },
  {
    title: '五等分的新娘',
    titleJP: '五等分の花嫁',
    description: '贫穷的高中生上杉风太郎成为五胞胎姐妹的家教，与她们发展出感情。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.5,
    releaseDate: new Date('2019-01-11'),
    genres: ['爱情', '喜剧', '校园'],
    studio: 'Bibury Animation Studios',
    episodes: 24,
    status: 'completed',
  },
  {
    title: '关于我转生变成史莱姆这档事',
    titleJP: '転生したらスライムだった件',
    description: '上班族三上悟转生为史莱姆，在异世界建立自己的国家。',
    coverImage: 'https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=400',
    rating: 4.6,
    releaseDate: new Date('2018-10-02'),
    genres: ['奇幻', '冒险', '喜剧'],
    studio: '8bit',
    episodes: 48,
    status: 'ongoing',
  },
  {
    title: '刀剑神域',
    titleJP: 'ソードアート・オンライン',
    description: '玩家被困在VRMMO游戏中，只有通关才能离开，失败则死亡。',
    coverImage: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
    rating: 4.5,
    releaseDate: new Date('2012-07-08'),
    genres: ['科幻', '冒险', '爱情'],
    studio: 'A-1 Pictures',
    episodes: 96,
    status: 'ongoing',
  },
];

const locationData = [
  // 你的名字相关地点
  {
    name: '新宿御苑',
    nameJP: '新宿御苑',
    description: '《你的名字》中三叶和泷最后相遇的地方',
    address: '东京都新宿区内藤町11',
    latitude: 35.6852,
    longitude: 139.7103,
    images: ['https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=800'],
  },
  {
    name: '代代木站',
    nameJP: '代々木駅',
    description: '《你的名字》中重要的场景',
    address: '东京都涩谷区代代木',
    latitude: 35.6833,
    longitude: 139.7022,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  {
    name: '须贺神社',
    nameJP: '須賀神社',
    description: '《你的名字》中著名的楼梯场景',
    address: '东京都新宿区须贺町5',
    latitude: 35.6828,
    longitude: 139.7142,
    images: ['https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800'],
  },
  {
    name: '飞驒古川站',
    nameJP: '飛騨古川駅',
    description: '《你的名字》中三叶居住的小镇',
    address: '岐阜县飞驒市古川町',
    latitude: 36.2372,
    longitude: 137.1894,
    images: ['https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800'],
  },
  // 天气之子相关地点
  {
    name: '六本木Hills',
    nameJP: '六本木ヒルズ',
    description: '《天气之子》中的场景',
    address: '东京都港区六本木6-10-1',
    latitude: 35.6604,
    longitude: 139.7292,
    images: ['https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800'],
  },
  {
    name: '东京晴空塔',
    nameJP: '東京スカイツリー',
    description: '《天气之子》中的重要地标',
    address: '东京都墨田区押上1-1-2',
    latitude: 35.7101,
    longitude: 139.8107,
    images: ['https://images.unsplash.com/photo-1528164344705-47542687000d?w=800'],
  },
  {
    name: '新宿警察署',
    nameJP: '新宿警察署',
    description: '《天气之子》中出现的场景',
    address: '东京都新宿区新宿3-1-1',
    latitude: 35.6938,
    longitude: 139.7034,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 言叶之庭相关地点
  {
    name: '新宿御苑（言叶之庭）',
    nameJP: '新宿御苑',
    description: '《言叶之庭》中孝雄和百香里相遇的亭子',
    address: '东京都新宿区内藤町11',
    latitude: 35.6852,
    longitude: 139.7103,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 秒速五厘米相关地点
  {
    name: '种子岛',
    nameJP: '種子島',
    description: '《秒速五厘米》中贵树工作的火箭发射基地',
    address: '鹿儿岛县熊毛郡中种子町',
    latitude: 30.6044,
    longitude: 130.9703,
    images: ['https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800'],
  },
  {
    name: '鹿儿岛中央站',
    nameJP: '鹿児島中央駅',
    description: '《秒速五厘米》中的重要场景',
    address: '鹿儿岛县鹿儿岛市中央町',
    latitude: 31.5833,
    longitude: 130.5417,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 千与千寻相关地点
  {
    name: '道后温泉',
    nameJP: '道後温泉',
    description: '《千与千寻》中汤屋的灵感来源',
    address: '爱媛县松山市道后汤之町',
    latitude: 33.8500,
    longitude: 132.7833,
    images: ['https://images.unsplash.com/photo-1528164344705-47542687000d?w=800'],
  },
  {
    name: '江户东京建筑园',
    nameJP: '江戸東京たてもの園',
    description: '《千与千寻》中建筑的参考地',
    address: '东京都小金井市樱町3-7-1',
    latitude: 35.7292,
    longitude: 139.5083,
    images: ['https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800'],
  },
  // 龙猫相关地点
  {
    name: '狭山丘陵',
    nameJP: '狭山丘陵',
    description: '《龙猫》中森林的灵感来源',
    address: '埼玉县所泽市',
    latitude: 35.7833,
    longitude: 139.4667,
    images: ['https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800'],
  },
  // 进击的巨人相关地点
  {
    name: '德国小镇',
    nameJP: 'ドイツ村',
    description: '《进击的巨人》中城墙的参考地',
    address: '德国多个历史城镇',
    latitude: 50.1109,
    longitude: 8.6821,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 鬼灭之刃相关地点
  {
    name: '浅草',
    nameJP: '浅草',
    description: '《鬼灭之刃》中东京的场景参考',
    address: '东京都台东区浅草',
    latitude: 35.7148,
    longitude: 139.7967,
    images: ['https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=800'],
  },
  {
    name: '奥多摩',
    nameJP: '奥多摩',
    description: '《鬼灭之刃》中森林场景的参考',
    address: '东京都西多摩郡奥多摩町',
    latitude: 35.8083,
    longitude: 139.1500,
    images: ['https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800'],
  },
  // 咒术回战相关地点
  {
    name: '东京都立咒术高等专门学校（参考地）',
    nameJP: '東京',
    description: '《咒术回战》中学校的参考地',
    address: '东京都',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 间谍过家家相关地点
  {
    name: '柏林（参考地）',
    nameJP: 'ベルリン',
    description: '《间谍过家家》中城市的参考',
    address: '德国柏林',
    latitude: 52.5200,
    longitude: 13.4050,
    images: ['https://images.unsplash.com/photo-1578632767115-351597cf2477?w=800'],
  },
  // 我推的孩子相关地点
  {
    name: '涩谷',
    nameJP: '渋谷',
    description: '《我推的孩子》中演艺圈的场景',
    address: '东京都涩谷区',
    latitude: 35.6580,
    longitude: 139.7016,
    images: ['https://images.unsplash.com/photo-1578632767115-351597cf2477?w=800'],
  },
  // 86相关地点
  {
    name: '战场参考地',
    nameJP: '戦場',
    description: '《86-不存在的战区-》中战场的参考',
    address: '多个地点',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=800'],
  },
  // Re:从零开始相关地点
  {
    name: '异世界参考地',
    nameJP: '異世界',
    description: '《Re:从零开始的异世界生活》的参考地',
    address: '多个地点',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 约定的梦幻岛相关地点
  {
    name: '孤儿院参考地',
    nameJP: '孤児院',
    description: '《约定的梦幻岛》中孤儿院的参考',
    address: '多个地点',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800'],
  },
  // 辉夜大小姐相关地点
  {
    name: '秀知院学园（参考地）',
    nameJP: '秀知院学園',
    description: '《辉夜大小姐想让我告白》中学校的参考',
    address: '东京都',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1578632767115-351597cf2477?w=800'],
  },
  // 我的英雄学院相关地点
  {
    name: '雄英高校（参考地）',
    nameJP: '雄英高校',
    description: '《我的英雄学院》中学校的参考',
    address: '东京都',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 五等分的新娘相关地点
  {
    name: '学校参考地',
    nameJP: '学校',
    description: '《五等分的新娘》中学校的参考',
    address: '多个地点',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
  // 转生史莱姆相关地点
  {
    name: '魔国联邦（参考地）',
    nameJP: '魔国連邦',
    description: '《关于我转生变成史莱姆这档事》中的地点',
    address: '异世界',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1601297183305-6df1426890e8?w=800'],
  },
  // 刀剑神域相关地点
  {
    name: '艾恩葛朗特（参考地）',
    nameJP: 'アインクラッド',
    description: '《刀剑神域》中浮游城的参考',
    address: '虚拟世界',
    latitude: 35.6762,
    longitude: 139.6503,
    images: ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'],
  },
];

async function seedData() {
  try {
    await mongoose.connect(MONGODB_URI);
    console.log('Connected to MongoDB');

    // Clear existing data
    await Anime.deleteMany({});
    await Location.deleteMany({});
    console.log('Cleared existing data');

    // Create anime
    const createdAnime = await Anime.insertMany(animeData);
    console.log(`Created ${createdAnime.length} anime`);

    // Create locations and link to anime based on anime title
    const animeTitleMap: { [key: string]: any } = {};
    createdAnime.forEach(anime => {
      animeTitleMap[anime.title] = anime._id;
    });

    // Map locations to specific anime
    const locationAnimeMap: { [key: number]: string } = {
      0: '你的名字', 1: '你的名字', 2: '你的名字', 3: '你的名字',
      4: '天气之子', 5: '天气之子', 6: '天气之子',
      7: '言叶之庭',
      8: '秒速五厘米', 9: '秒速五厘米',
      10: '千与千寻', 11: '千与千寻',
      12: '龙猫',
      13: '进击的巨人',
      14: '鬼灭之刃', 15: '鬼灭之刃',
      16: '咒术回战',
      17: '间谍过家家',
      18: '我推的孩子',
      19: '86-不存在的战区-',
      20: 'Re:从零开始的异世界生活',
      21: '约定的梦幻岛',
      22: '辉夜大小姐想让我告白',
      23: '我的英雄学院',
      24: '五等分的新娘',
      25: '关于我转生变成史莱姆这档事',
      26: '刀剑神域',
    };

    for (let i = 0; i < locationData.length; i++) {
      const animeTitle = locationAnimeMap[i] || createdAnime[i % createdAnime.length].title;
      const animeId = animeTitleMap[animeTitle] || createdAnime[i % createdAnime.length]._id;
      
      const location = await Location.create({
        ...locationData[i],
        anime: animeId,
        rating: 0,
      });
      
      // Link location to anime
      await Anime.findByIdAndUpdate(animeId, {
        $push: { locations: location._id },
      });
    }

    console.log(`Created ${locationData.length} locations`);
    console.log('Seed data created successfully!');
    process.exit(0);
  } catch (error) {
    console.error('Error seeding data:', error);
    process.exit(1);
  }
}

seedData();

