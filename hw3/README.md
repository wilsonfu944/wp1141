# 購物網站

一個基於 React + TypeScript + Ant Design 的現代化電商購物網站，支援商品瀏覽、購物車管理和訂單結帳功能。

## 功能特色

### 1. 項目瀏覽 ⭐ 大幅增強
- **篩選側邊欄**：
  - 商品分類篩選（5 大分類）
  - 價格範圍滑桿（動態範圍）
  - 評分篩選（星等選擇）
  - 品牌多選篩選（前 10 個品牌）
  - 庫存狀態篩選（僅顯示有貨）
- **關鍵字搜尋**：支援商品名稱、描述、品牌的全文搜尋
- **多重排序**：價格、名稱、評分、新品優先等 6 種排序
- **商品卡片**：
  - 清晰展示圖片、名稱、品牌、價格、庫存、評分、特徵
  - 快速預覽功能（眼睛圖標）
  - 比較功能（勾選框）
  - 懸停效果與視覺回饋
- **商品比較**：
  - 最多同時比較 3 個商品
  - 完整規格對照表
  - 比較彈窗直接加入購物車
- **響應式布局**：
  - 手機單列、平板雙列、桌面四列
  - 側邊欄在移動端可收合

### 2. 購物車管理（選取至容器）
- **購物車側邊欄**：右側抽屜式購物車，不影響瀏覽體驗
- **數量調整**：可自由增減商品數量，超過庫存會自動提示
- **即時更新**：購物車總價和商品數量即時更新
- **移除商品**：可隨時從購物車移除不需要的商品
- **購物車狀態**：Header 顯示購物車商品總數徽章

### 3. 訂單結帳（送出記錄）
- **訂單明細確認**：清楚列出所有選購商品和價格
- **收件資訊填寫**：姓名、電話、地址等必填欄位驗證
- **二次確認機制**：送出前會彈出確認對話框，避免誤操作
- **訂單編號生成**：送出後生成唯一訂單編號
- **訂單完成提示**：成功頁面顯示訂單資訊
- **購物車自動清空**：訂單送出後自動清空購物車

## 技術架構

### 核心技術
- **React 18**：使用最新的 React 版本
- **TypeScript**：嚴格模式，提供完整的類型安全
- **Vite**：快速的開發伺服器和建置工具
- **Ant Design 5**：現代化的 UI 組件庫

### 架構設計
- **React Context**：全域狀態管理（ProductContext、CartContext）
- **Custom Hooks**：封裝可重用的邏輯（useProducts）
- **React Router**：客戶端路由管理
- **CSS Modules**：模組化樣式，避免樣式衝突
- **PapaParse**：CSV 檔案解析

### 專案結構
```
hw3/
├── public/
│   └── data/
│       └── products.csv          # 商品資料檔案
├── src/
│   ├── components/               # 可重用組件
│   │   ├── Header/              # 頁首組件
│   │   ├── ProductCard/         # 商品卡片組件
│   │   └── ShoppingCart/        # 購物車組件
│   ├── contexts/                # React Context
│   │   ├── CartContext.tsx      # 購物車狀態管理
│   │   └── ProductContext.tsx   # 商品狀態管理
│   ├── hooks/                   # 自定義 Hooks
│   │   └── useProducts.ts       # 載入商品資料
│   ├── pages/                   # 頁面組件
│   │   ├── ProductList/         # 商品列表頁面
│   │   └── Checkout/            # 結帳頁面
│   ├── types/                   # TypeScript 類型定義
│   │   └── index.ts
│   ├── utils/                   # 工具函數
│   │   └── csvParser.ts         # CSV 解析工具
│   ├── App.tsx                  # 主應用組件
│   └── main.tsx                 # 應用入口
├── index.html
├── package.json
├── tsconfig.json
├── vite.config.ts
└── README.md
```

## 安裝與執行

### 環境需求
- Node.js >= 18.0.0
- npm >= 9.0.0

### 安裝步驟

1. **複製專案**
```bash
cd hw3
```

2. **安裝相依套件**
```bash
npm install
```

3. **啟動開發伺服器**
```bash
npm run dev
```

4. **開啟瀏覽器**
```
預設會自動開啟瀏覽器，或手動前往 http://localhost:3000
```

### 建置生產版本
```bash
npm run build
```

建置完成後，可使用以下指令預覽：
```bash
npm run preview
```

## 資料格式

### CSV 檔案格式
商品資料存放在 `public/data/products.csv`，格式如下：

```csv
id,name,category,price,stock,description,image_url,brand,rating,features,created_date
P001,商品名稱,分類,價格,庫存數量,商品描述,圖片URL,品牌名稱,評分,特徵1/特徵2/特徵3,2024-01-01
```

### 欄位說明
- `id`：商品唯一識別碼（必填）
- `name`：商品名稱（必填）
- `category`：商品分類（必填，如：電子產品、服飾配件、家居生活、美妝保養、圖書文具）
- `price`：商品價格（必填，數字）
- `stock`：庫存數量（必填，整數，0 表示缺貨）
- `description`：商品描述（必填，建議至少 20 字）
- `image_url`：商品圖片 URL（必填，支援 Unsplash、Picsum 等圖床）
- `brand`：品牌名稱（必填）
- `rating`：商品評分（必填，1.0-5.0 之間的數字）
- `features`：商品特徵（必填，多個特徵用斜線 `/` 分隔，如：防水/藍牙5.0/降噪）
- `created_date`：建立日期（必填，格式：YYYY-MM-DD）

### 修改商品資料
只需編輯 `public/data/products.csv` 檔案，儲存後重新整理瀏覽器即可看到更新。Vite 的 HMR (Hot Module Replacement) 功能會自動偵測檔案變更。

## 使用說明

### 瀏覽商品
1. 進入首頁後可看到所有商品
2. 使用頂部的分類下拉選單篩選特定分類
3. 使用搜尋框輸入關鍵字搜尋商品
4. 使用排序下拉選單改變商品排序方式
5. 點擊「重置篩選」按鈕清除所有篩選條件

### 加入購物車
1. 在商品卡片上調整欲購買的數量
2. 點擊「加入購物車」按鈕
3. 系統會顯示成功訊息，Header 的購物車圖標會顯示商品總數

### 管理購物車
1. 點擊 Header 的「購物車」按鈕開啟購物車側邊欄
2. 在購物車中可以：
   - 調整商品數量
   - 移除不需要的商品
   - 查看即時總價
3. 點擊「前往結帳」進入結帳頁面

### 結帳流程
1. 確認訂單明細是否正確
2. 填寫收件資訊：
   - 姓名（必填）
   - 電話（必填，格式：09xxxxxxxx）
   - 地址（必填）
   - 備註（選填）
3. 點擊「確認送出訂單」
4. 在確認對話框中再次確認
5. 送出成功後會顯示訂單編號
6. 可點擊「回到首頁」繼續購物

## 設計特色

### UI/UX 設計
- **響應式設計**：支援桌面、平板、手機等不同裝置
- **直覺式操作**：符合使用者習慣的操作流程
- **即時回饋**：所有操作都有即時的視覺回饋（成功/錯誤訊息）
- **視覺引導**：使用顏色、圖標引導使用者注意重點資訊
- **防呆設計**：庫存不足提示、二次確認、表單驗證等

### 效能優化
- **React.memo**：避免不必要的組件重新渲染
- **useMemo/useCallback**：優化計算和函數創建
- **圖片錯誤處理**：圖片載入失敗時顯示預設圖片
- **Lazy Loading**：可視需求添加路由層級的程式碼分割

### 程式品質
- **TypeScript 嚴格模式**：確保類型安全
- **清晰的程式碼結構**：關注點分離，易於維護
- **可重用組件**：組件化設計，提高程式碼重用性
- **完整的註解**：重要函數都有 JSDoc 註解說明

## 開發工具

### 推薦的 VSCode 擴充套件
- ESLint
- Prettier
- TypeScript Vue Plugin (Volar)
- Tailwind CSS IntelliSense

### 程式碼檢查
```bash
npm run lint
```

## 常見問題

### Q: 圖片無法顯示？
A: 請確認 CSV 檔案中的 `image_url` 欄位是有效的圖片 URL。專案中使用 Unsplash 的圖片作為範例，需要網路連線才能載入。如果圖片載入失敗，系統會自動顯示預設圖片。

### Q: CSV 檔案更新後沒有反應？
A: 請嘗試重新整理瀏覽器（Ctrl+R 或 Cmd+R）。如果問題持續，請檢查 CSV 檔案格式是否正確，特別注意：
- 欄位數量是否正確（11 個欄位）
- 日期格式是否為 YYYY-MM-DD
- 特徵是否用斜線 `/` 分隔
- 評分是否在 1.0-5.0 之間

### Q: 如何新增商品分類？
A: 在 CSV 檔案中新增商品時，`category` 欄位填入新的分類名稱即可。系統會自動識別並在篩選選單中顯示。建議使用：電子產品、服飾配件、家居生活、美妝保養、圖書文具等分類。

### Q: 商品特徵如何填寫？
A: 在 `features` 欄位中，使用斜線 `/` 分隔多個特徵，例如：`防水/藍牙5.0/降噪/30小時續航`。商品卡片會顯示前 3 個特徵，其餘特徵可透過滑鼠懸停查看。

### Q: 可以使用其他語言嗎？
A: 目前介面為繁體中文。如需支援其他語言，可以使用 i18n 套件實作多語系功能。

### Q: 資料集包含多少商品？
A: 預設提供 100 筆商品資料，涵蓋 5 大分類（電子產品 30 筆、服飾配件 25 筆、家居生活 20 筆、美妝保養 15 筆、圖書文具 10 筆），價格範圍 45 元至 89,900 元，部分商品設定為缺貨狀態以模擬真實情況。

## 相關文檔

- 📖 **[ARCHITECTURE.md](./ARCHITECTURE.md)** - 完整的架構文檔，包含 TypeScript 類型定義、Context 狀態管理、自定義 Hooks 等詳細說明
- 📋 **[QUICK_REFERENCE.md](./QUICK_REFERENCE.md)** - 快速參考指南，包含常用 API、使用範例、除錯技巧
- 📊 **[DATA_INFO.md](./DATA_INFO.md)** - 商品資料統計與說明，包含分類分布、品牌列表、測試場景建議
- ✨ **[FEATURES.md](./FEATURES.md)** - 商品瀏覽頁面功能詳細說明，包含篩選、搜尋、排序、比較等所有功能
- 🚀 **[SETUP.md](./SETUP.md)** - 快速開始指南
- 📝 **[CHANGELOG.md](./CHANGELOG.md)** - 更新日誌
- 🔧 **[FIXES.md](./FIXES.md)** - 問題修復說明（搜尋欄位重複、圖片不對應等）

## 核心技術特色

### 狀態管理
- ✅ **localStorage 持久化** - 購物車和訂單資料自動儲存，重新整理頁面不會丟失
- ✅ **React Context** - 全域狀態管理，避免 props drilling
- ✅ **自定義 Hooks** - 封裝可重用邏輯（useProducts, useLocalStorage, useFilters, useDebounce）

### 類型安全
- ✅ **TypeScript 嚴格模式** - 完整的類型定義與檢查
- ✅ **介面定義** - Product, CartItem, Order, FilterOptions 等清晰的類型結構

### 效能優化
- ✅ **useMemo** - 記憶化計算結果
- ✅ **useCallback** - 記憶化事件處理函數
- ✅ **防抖搜尋** - useDebounce Hook 優化搜尋體驗

## 授權

本專案為課程作業，僅供學習使用。

## 作者

WP1141 HW3 - 2025

---

**注意事項**：
- 本專案為純前端應用，但購物車和訂單資料會持久化到 localStorage
- 重新整理頁面後，購物車和訂單資料會自動恢復
- 建議使用現代瀏覽器（Chrome、Firefox、Safari、Edge）以獲得最佳體驗
- 如需清除資料，可在瀏覽器 Console 執行 `localStorage.clear()`

